{
  "version": 3,
  "file": "events.js",
  "sourceRoot": "/Users/Mamble/Work/Bills/callImitator/common/src",
  "sources": [
    "events.ts"
  ],
  "names": [
    "Emitter",
    "Emitter.constructor",
    "Emitter.on",
    "Emitter.off",
    "Emitter.listeners",
    "Emitter.emit",
    "Emitter.once"
  ],
  "mappings": ";QAAM,MAAM,EACN,QAAQ;;;;YADR,MAAM,GAAU,MAAM,CAAC,UAAU,CAAC,CAAC;YACnC,QAAQ,GAAU,MAAM,CAAC,UAAU,CAAC,CAAC;YAU3C;gBAAAA;gBAqGAC,CAACA;gBApGiBD,UAAEA,GAAhBA,UAAoBA,MAAQA,EAACA,KAAYA,EAACA,OAAgBA,EAACA,IAAkBA;oBAAlBE,oBAAkBA,GAAlBA,YAAkBA;oBACzEA,IAAIA,QAAQA,GAAGA;wBAACA,cAAOA;6BAAPA,WAAOA,CAAPA,sBAAOA,CAAPA,IAAOA;4BAAPA,6BAAOA;;wBACnBA,OAAOA,eAAIA,IAAIA,CAACA,CAACA;wBACjBA,EAAEA,CAAAA,CAACA,IAAIA,CAACA,CAAAA,CAACA;4BACLA,OAAOA,CAACA,GAAGA,CAACA,MAAMA,EAACA,KAAKA,EAACA,OAAOA,CAACA,CAAAA;wBACrCA,CAACA;oBACLA,CAACA,CAACA;oBAEFA,QAAQA,CAACA,QAAQA,CAACA,GAAGA,OAAOA,CAACA;oBAE7BA,IAAIA,MAAMA,GAAGA,MAAMA,CAACA,MAAMA,CAACA,CAACA;oBAC5BA,EAAEA,CAAAA,CAACA,CAACA,MAAMA,CAACA,CAAAA,CAACA;wBACRA,MAAMA,GAAGA,MAAMA,CAACA,MAAMA,CAACA,GAAGA,EAAEA,CAACA;oBACjCA,CAACA;oBACDA,IAAIA,SAASA,GAAuBA,MAAMA,CAACA,KAAKA,CAACA,CAACA;oBAClDA,EAAEA,CAAAA,CAACA,CAACA,SAASA,CAACA,CAAAA,CAACA;wBACXA,MAAMA,CAACA,KAAKA,CAACA,GAAGA,QAAQA,CAACA;oBAC7BA,CAACA;oBAAAA,IAAIA,CACLA,EAAEA,CAAAA,CAACA,OAAOA,SAASA,IAAEA,UAAUA,CAACA,CAAAA,CAACA;wBAC7BA,MAAMA,CAACA,KAAKA,CAACA,GAAGA,CAAWA,SAASA,EAACA,QAAQA,CAACA,CAACA;oBACnDA,CAACA;oBAAAA,IAAIA,CAAAA,CAACA;wBACWA,SAAUA,CAACA,IAAIA,CAACA,QAAQA,CAACA,CAACA;oBAC3CA,CAACA;oBACDA,MAAMA,CAACA,MAAMA,CAACA;gBAClBA,CAACA;gBACaF,WAAGA,GAAjBA,UAAqBA,MAAQA,EAACA,KAAYA,EAACA,OAAgBA;oBACvDG,IAAIA,MAAMA,GAAGA,MAAMA,CAACA,MAAMA,CAACA,CAACA;oBAC5BA,EAAEA,CAAAA,CAACA,MAAMA,CAACA,CAAAA,CAACA;wBACPA,IAAIA,SAASA,GAAuBA,MAAMA,CAACA,KAAKA,CAACA,CAACA;wBAClDA,EAAEA,CAAAA,CAACA,OAAOA,SAASA,IAAEA,UAAUA,CAACA,CAAAA,CAACA;4BAC7BA,EAAEA,CAAAA,CAACA,CAACA,OAAOA,CAACA,QAAQA,CAACA,IAAEA,OAAOA,CAACA,KAAGA,CAACA,SAASA,CAACA,QAAQA,CAACA,IAAEA,SAASA,CAACA,CAACA,CAAAA,CAACA;gCAChEA,OAAOA,MAAMA,CAACA,KAAKA,CAACA,CAACA;4BACzBA,CAACA;wBACLA,CAACA;wBAACA,IAAIA,CACNA,EAAEA,CAAAA,CAACA,SAASA,CAACA,CAAAA,CAACA;4BACVA,IAAIA,KAAKA,GAACA,CAACA,CAACA,CAACA;4BACbA,GAAGA,CAAAA,CAACA,GAAGA,CAACA,CAACA,GAACA,CAACA,EAACA,CAACA,GAACA,SAASA,CAACA,MAAMA,EAACA,CAACA,EAAEA,EAACA,CAACA;gCAChCA,EAAEA,CAAAA,CAACA,CAACA,OAAOA,CAACA,QAAQA,CAACA,IAAEA,OAAOA,CAACA,KAAGA,CAACA,SAASA,CAACA,CAACA,CAACA,CAACA,QAAQA,CAACA,IAAEA,SAASA,CAACA,CAACA,CAACA,CAACA,CAACA,CAAAA,CAACA;oCACtEA,KAAKA,GAACA,CAACA,CAACA;oCACRA,KAAKA,CAACA;gCACVA,CAACA;4BACLA,CAACA;4BACDA,EAAEA,CAAAA,CAACA,KAAKA,IAAEA,CAACA,CAACA,CAAAA,CAACA;gCACIA,SAAUA,CAACA,MAAMA,CAACA,CAACA,EAACA,CAACA,CAACA,CAACA;4BACxCA,CAACA;4BACDA,EAAEA,CAAAA,CAACA,SAASA,CAACA,MAAMA,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",
  "sourcesContent": [
    "const EVENTS:symbol = Symbol('listener');\nconst ORIGINAL:symbol = Symbol('listener');\n\nexport interface EventEmitter {\n    on(event:string, listener:Function): Emitter;\n    once(event:string, listener:Function): Emitter;\n    off(event?:string, listener?:Function): Emitter;\n    listeners(event?:string): Function[];\n    emit(event:string, ...args:any[]): void;\n}\n\nexport class Emitter implements EventEmitter {\n    public static on<T>(target:T,event:string,handler:Function,once:boolean=false):T{\n        var listener = (...args)=>{\n            handler(...args);\n            if(once){\n                Emitter.off(target,event,handler)\n            }\n        };\n\n        listener[ORIGINAL] = handler;\n\n        var events = target[EVENTS];\n        if(!events){\n            events = target[EVENTS] = {};\n        }\n        var listeners:Function|Function[] = events[event];\n        if(!listeners){\n            events[event] = listener;\n        }else\n        if(typeof listeners=='function'){\n            events[event] = [<Function>listeners,listener];\n        }else{\n            (<Function[]>listeners).push(listener);\n        }\n        return target;\n    }\n    public static off<T>(target:T,event:string,handler:Function):T{\n        var events = target[EVENTS];\n        if(events){\n            var listeners:Function|Function[] = events[event];\n            if(typeof listeners=='function'){\n                if((handler[ORIGINAL]||handler)===(listeners[ORIGINAL]||listeners)){\n                    delete events[event];\n                }\n            } else\n            if(listeners){\n                var index=-1;\n                for(var i=0;i<listeners.length;i++){\n                    if((handler[ORIGINAL]||handler)===(listeners[i][ORIGINAL]||listeners[i])){\n                        index=i;\n                        break;\n                    }\n                }\n                if(index>=0){\n                    (<Function[]>listeners).splice(i,1);\n                }\n                if(listeners.length==1){\n                    listeners = listeners[0];\n                }else\n                if(listeners.length==0){\n                    delete events[event];\n                }\n            }\n            return target;\n        }\n    }\n    public static listeners(target:any,event:string):Function[]{\n        var events = target[EVENTS];\n        if(events){\n            var listeners = events[event];\n            if(typeof listeners=='function'){\n                return [listeners]\n            } else\n            if(listeners){\n                var result:Function[] = [];\n                for(var i=0;i<listeners.length;i++){\n                    result.push(listeners[i]);\n                }\n                return result;\n            }\n        }else{\n            console.info('NO EVENTS');\n        }\n    }\n    public static emit(target:any,event:string,...args:any[]):void{\n        setTimeout(()=> {\n            var listeners = Emitter.listeners(target,event);\n            if(listeners && listeners.length){\n                for (var i = 0; i < listeners.length; i++) {\n                    listeners[i](...args);\n                }\n            }else{\n                return false;\n            }\n        },0);\n    }\n    on(event:string, listener:Function): Emitter {\n        return Emitter.on(this,event,listener);\n    }\n    once(event:string, listener:Function): Emitter{\n        return Emitter.on(this,event,listener,true);\n    }\n    off(event?:string, listener?:Function): Emitter{\n        return Emitter.off(this,event,listener);\n    }\n    listeners(event?:string): Function[]{\n        return Emitter.listeners(this,event);\n    }\n    emit(event:string, ...args:any[]): void {\n        return Emitter.emit(this, event, ...args);\n    }\n}"
  ]
}